<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
    <style>
 
@font-face {
    font-family: kanitBold;
    src: url(./Media/Kanit/Kanit-Medium.ttf);
}

body {
    font-family: kanitBold;
    text-align: center;
    background-color: #f8f8f8;
}
.container {
    margin-top: 20px;
}

#certificate {
    width: 600px;
    height: 400px;
    margin: auto;
    background: white;
    padding: 20px;
    text-align: center;
    position: relative;
    box-shadow: 0px 0px 10px gray;
}

.certificate-border {
    padding: 20px;
    border: 5px solid rgb(0, 200, 255);
}

h1 {
    font-size: 26px;
    color: #333;
}

h2 {
    font-size: 24px;
    font-weight: bold;
}

h3 {
    font-size: 20px;
    color: #555;
}

p {
    font-size: 16px;
    color: #444;
}

.signature-section {
    display: flex;
    justify-content: space-between;
    margin-top: 40px;
}

.signature-section div {
    width: 45%;
    text-align: center;
}

input {
    padding: 10px;
    margin: 10px;
    font-size: 16px;
}

button {
    padding: 10px 15px;
    font-size: 16px;
    cursor: pointer;
    background-color: gold;
    border: none;
    color: black;
    margin: 5px;
}

button:hover {
    background-color: darkgoldenrod;
}

    </style>
</head>
<body>
    <div class="container">
        <div id="certificate">
            <div class="certificate-border">
                <h1>Certificate of Completion</h1>
                <img width="30px" style="position: absolute;" src="./Media/favLightLogo.png" alt="">
                <p>This is to certify that</p>
                <h2 id="student-name">[Name]</h2>
                <p>has successfully completed</p>
                <h3 id="course-name">[Course Name]</h3>
                <p>on <span id="completion-date">[Date]</span></p>
                <div class="signature-section">
                    <div>
                        <hr>
                        <p>Instructor</p>
                    </div>
                    <div>
                        <hr>
                        <p>Director</p>
                    </div>
                </div>
            </div>
        </div>
        <input type="text" id="nameInput" placeholder="Enter your name">
        <input type="text" id="courseInput" placeholder="Enter course name">
        <button onclick="generateCertificate()">Generate</button>
        <button onclick="downloadCertificate()">Download</button>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="script.js"></script>  <!-- Ensure this is after html2canvas -->

    <script>


html2canvas(document.getElementById("certificate"), {
    backgroundColor: "#ffffff"  // Ensures a solid white background
}).then(canvas => {
    // let link = document.createElement("a");
    // link.href = canvas.toDataURL("image/png");
    // link.download = "certificate.png";
    // link.click();
});



        function generateCertificate() {
    let name = document.getElementById("nameInput").value;
    let course = document.getElementById("courseInput").value;
    let today = new Date().toLocaleDateString();

    document.getElementById("student-name").innerText = name;
    document.getElementById("course-name").innerText = course;
    document.getElementById("completion-date").innerText = today;
}

// function downloadCertificate() {
//     html2canvas(document.getElementById("certificate")).then(canvas => {
//         let link = document.createElement("a");
//         link.href = canvas.toDataURL("image/png");
//         link.download = "certificate.png";
//         link.click();
//     });
// }

function downloadCertificate() {
    const { jsPDF } = window.jspdf; // Access jsPDF from the CDN

    const certificate = document.getElementById("certificate");

    html2canvas(certificate, { scale: 2, backgroundColor: "#ffffff" }).then(canvas => {
        let imgData = canvas.toDataURL("image/png"); // Convert to image
        let pdf = new jsPDF("landscape"); // Create PDF in landscape mode

        let imgWidth = 280;  // PDF width (adjust as needed)
        let imgHeight = (canvas.height * imgWidth) / canvas.width; // Maintain aspect ratio

        pdf.addImage(imgData, "PNG", 10, 10, imgWidth, imgHeight);
        pdf.save("certificate.pdf"); // Download as certificate.pdf
    });
}


    </script>
</body>
</html>
